# –Ü–∫–æ–Ω–∫–∞ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ —Ç—Ä–µ—è

## –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î

–Ü–∫–æ–Ω–∫–∞ –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ —Ç—Ä–µ—è –≤–±—É–¥–æ–≤—É—î—Ç—å—Å—è **–ø—Ä—è–º–æ –≤ `.exe` —Ñ–∞–π–ª** —á–µ—Ä–µ–∑ Windows —Ä–µ—Å—É—Ä—Å–∏.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤

```
üìÅ cid_retranslator_walk/
‚îú‚îÄ‚îÄ üìÑ icon.ico                      # –Ü–∫–æ–Ω–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–∏ (–≤–∏—Ö—ñ–¥–Ω–∏–π —Ñ–∞–π–ª)
‚îú‚îÄ‚îÄ üìÑ multiplepages.exe.manifest    # Windows manifest
‚îú‚îÄ‚îÄ üìÑ resources.rc                  # Resource script (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
‚îú‚îÄ‚îÄ üìÑ rsrc.syso                     # –ó–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏–π —Ñ–∞–π–ª —Ä–µ—Å—É—Ä—Å—ñ–≤ (–≤–±—É–¥–æ–≤—É—î—Ç—å—Å—è –≤ exe)
‚îî‚îÄ‚îÄ üìÑ build.bat                     # –°–∫—Ä–∏–ø—Ç –¥–ª—è –∑–±—ñ—Ä–∫–∏
```

## –®–≤–∏–¥–∫–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è

### –í–∞—Ä—ñ–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –∑–±—ñ—Ä–∫–∞ (–Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–π)

```bash
.\build.bat
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:
1. ‚úÖ –í—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `rsrc` (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)
2. ‚úÖ –ó–≥–µ–Ω–µ—Ä—É—î `rsrc.syso` –∑ —ñ–∫–æ–Ω–∫–æ—é
3. ‚úÖ –ó–±–µ—Ä—ñ—Ç—å –ø—Ä–æ–≥—Ä–∞–º—É –∑ –≤–±—É–¥–æ–≤–∞–Ω–æ—é —ñ–∫–æ–Ω–∫–æ—é

### –í–∞—Ä—ñ–∞–Ω—Ç 2: –†—É—á–Ω–∞ –∑–±—ñ—Ä–∫–∞

**–ö—Ä–æ–∫ 1:** –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å `rsrc` (–æ–¥–∏–Ω —Ä–∞–∑):
```bash
go install github.com/akavel/rsrc@latest
```

**–ö—Ä–æ–∫ 2:** –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ —Ä–µ—Å—É—Ä—Å–∏:
```bash
rsrc -ico icon.ico -manifest multiplepages.exe.manifest -o rsrc.syso
```

**–ö—Ä–æ–∫ 3:** –ó–±–µ—Ä—ñ—Ç—å –ø—Ä–æ–≥—Ä–∞–º—É:
```bash
go build -o cid_retranslator.exe .
```

## –Ø–∫ –∑–º—ñ–Ω–∏—Ç–∏ —ñ–∫–æ–Ω–∫—É

1. –ó–∞–º—ñ–Ω—ñ—Ç—å —Ñ–∞–π–ª `icon.ico` –Ω–∞ —Å–≤–æ—é —ñ–∫–æ–Ω–∫—É
2. –ó–∞–ø—É—Å—Ç—ñ—Ç—å `.\build.bat` –∞–±–æ –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä—É–π—Ç–µ `rsrc.syso` –≤—Ä—É—á–Ω—É
3. –ü–µ—Ä–µ–∑–±–µ—Ä—ñ—Ç—å –ø—Ä–æ–≥—Ä–∞–º—É

## –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î –≤ –∫–æ–¥—ñ

–£ —Ñ–∞–π–ª—ñ [`ui/mainwindow.go`](file:///c:/Users/a.pidlypnyi/GolandProjects/cid_retranslator_walk/ui/mainwindow.go) —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –±–∞–≥–∞—Ç–æ—Ä—ñ–≤–Ω–µ–≤—É —Å—Ç—Ä–∞—Ç–µ–≥—ñ—é –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —ñ–∫–æ–Ω–∫–∏:

```go
// –°–ø—Ä–æ–±–∞ 1: –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≤–±—É–¥–æ–≤–∞–Ω—É —ñ–∫–æ–Ω–∫—É "APPICON" –∑ —Ä–µ—Å—É—Ä—Å—ñ–≤ exe
icon, err := walk.Resources.Icon("APPICON")
if err != nil {
    // –°–ø—Ä–æ–±–∞ 2: –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∑ —Ñ–∞–π–ª—É icon.ico (–ø–æ—Ä—É—á –∑ exe)
    icon, err = walk.NewIconFromFile("icon.ico")
    if err != nil {
        // –°–ø—Ä–æ–±–∞ 3: –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É —ñ–∫–æ–Ω–∫—É Windows
        icon, err = walk.NewIconFromResourceId(32512)
    }
}
```

### –°—Ç—Ä–∞—Ç–µ–≥—ñ—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è:

1. **–í–±—É–¥–æ–≤–∞–Ω–∞ —ñ–∫–æ–Ω–∫–∞** (–Ω–∞–π–∫—Ä–∞—â–µ) - –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è –∑ —Ä–µ—Å—É—Ä—Å—ñ–≤ `.exe` —Ñ–∞–π–ª—É
   - ‚úÖ –ù–µ –ø–æ—Ç—Ä–µ–±—É—î –æ–∫—Ä–µ–º–æ–≥–æ —Ñ–∞–π–ª—É
   - ‚úÖ –®–≤–∏–¥—à–µ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è
   - ‚úÖ –ù–µ–º–æ–∂–ª–∏–≤–æ –≤–∏–ø–∞–¥–∫–æ–≤–æ –≤–∏–¥–∞–ª–∏—Ç–∏

2. **–§–∞–π–ª `icon.ico`** (fallback) - –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è –∑ —Ñ–∞–π–ª–æ–≤–æ—ó —Å–∏—Å—Ç–µ–º–∏
   - ‚úÖ –ü—Ä–∞—Ü—é—î –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ —Ä–µ—Å—É—Ä—Å–∏ –Ω–µ –≤–±—É–¥–æ–≤–∞–Ω—ñ
   - ‚úÖ –ú–æ–∂–Ω–∞ –ª–µ–≥–∫–æ –∑–∞–º—ñ–Ω–∏—Ç–∏ —ñ–∫–æ–Ω–∫—É –±–µ–∑ –ø–µ—Ä–µ—Å–±—ñ—Ä–∫–∏
   - ‚ö†Ô∏è –§–∞–π–ª –º–∞—î –±—É—Ç–∏ –ø–æ—Ä—É—á –∑ `.exe`

3. **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ Windows —ñ–∫–æ–Ω–∫–∞** (–æ—Å—Ç–∞–Ω–Ω—ñ–π fallback)
   - ‚úÖ –ó–∞–≤–∂–¥–∏ –¥–æ—Å—Ç—É–ø–Ω–∞
   - ‚ö†Ô∏è –ù–µ —É–Ω—ñ–∫–∞–ª—å–Ω–∞, –≤–∏–≥–ª—è–¥–∞—î —è–∫ –∑–≤–∏—á–∞–π–Ω–∏–π –¥–æ–¥–∞—Ç–æ–∫

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤ –ª–æ–≥–∞—Ö

–ü—Ä–∏ –∑–∞–ø—É—Å–∫—É –ø—Ä–æ–≥—Ä–∞–º–∏ –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏:
- `"Icon loaded from embedded resources"` - ‚úÖ –í—ñ–¥–º—ñ–Ω–Ω–æ! –Ü–∫–æ–Ω–∫–∞ –≤–±—É–¥–æ–≤–∞–Ω–∞
- `"Icon loaded from file icon.ico"` - ‚ö†Ô∏è –ü—Ä–∞—Ü—é—î, –∞–ª–µ –∫—Ä–∞—â–µ –≤–±—É–¥—É–≤–∞—Ç–∏
- `"Using default Windows icon"` - ‚ö†Ô∏è –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ —ñ–∫–æ–Ω–∫–∞

## –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞

–ü—ñ—Å–ª—è –∑–±—ñ—Ä–∫–∏:

1. **–Ü–∫–æ–Ω–∫–∞ exe —Ñ–∞–π–ª—É** - `cid_retranslator.exe` –º–∞—î –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ –≤–∞—à—É —ñ–∫–æ–Ω–∫—É –≤ –ü—Ä–æ–≤—ñ–¥–Ω–∏–∫—É
2. **–Ü–∫–æ–Ω–∫–∞ —Ç—Ä–µ—è** - –ü—Ä–∏ –∑–∞–ø—É—Å–∫—É –ø—Ä–æ–≥—Ä–∞–º–∏ —ñ–∫–æ–Ω–∫–∞ –∑'—è–≤–∏—Ç—å—Å—è –≤ —Å–∏—Å—Ç–µ–º–Ω–æ–º—É —Ç—Ä–µ—ó
3. **–†–æ–∑–º—ñ—Ä —Ñ–∞–π–ª—É** - `rsrc.syso` –º–∞—î –±—É—Ç–∏ –∫—ñ–ª—å–∫–∞ KB (—ñ–∫–æ–Ω–∫–∞ + manifest –≤–±—É–¥–æ–≤–∞–Ω—ñ)

## –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ä—ñ–∑–Ω–∏—Ö —Ä–æ–∑–º—ñ—Ä—ñ–≤ —ñ–∫–æ–Ω–∫–∏

`.ico` —Ñ–∞–π–ª –º–æ–∂–µ –º—ñ—Å—Ç–∏—Ç–∏ –∫—ñ–ª—å–∫–∞ —Ä–æ–∑–º—ñ—Ä—ñ–≤ —ñ–∫–æ–Ω–∫–∏ (16x16, 32x32, 48x48, 256x256):
- **16x16** - —Å–∏—Å—Ç–µ–º–Ω–∏–π —Ç—Ä–µ–π
- **32x32** - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ —ñ–∫–æ–Ω–∫–∞ –≤ –ü—Ä–æ–≤—ñ–¥–Ω–∏–∫—É
- **48x48** - –≤–µ–ª–∏–∫—ñ –∑–Ω–∞—á–∫–∏
- **256x256** - –¥—É–∂–µ –≤–µ–ª–∏–∫—ñ –∑–Ω–∞—á–∫–∏ (Vista+)

Windows –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–±–µ—Ä–µ –ø–æ—Ç—Ä—ñ–±–Ω–∏–π —Ä–æ–∑–º—ñ—Ä –∑ `.ico` —Ñ–∞–π–ª—É.

## –í–∞–∂–ª–∏–≤–æ! ‚ö†Ô∏è

- –§–∞–π–ª `rsrc.syso` –º–∞—î –±—É—Ç–∏ –≤ **–∫–æ—Ä–µ–Ω–µ–≤—ñ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó** –ø—Ä–æ–µ–∫—Ç—É (–ø–æ—Ä—É—á –∑ `main.go`)
- Go –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ–¥—Ö–æ–ø–ª—é—î –≤—Å—ñ `.syso` —Ñ–∞–π–ª–∏ –ø—Ä–∏ –∑–±—ñ—Ä—Ü—ñ
- –ü—ñ—Å–ª—è –∑–º—ñ–Ω–∏ —ñ–∫–æ–Ω–∫–∏ **–æ–±–æ–≤'—è–∑–∫–æ–≤–æ** –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä—É–π—Ç–µ `rsrc.syso`
- –ù–µ –∑–∞–±—É–¥—å—Ç–µ –¥–æ–¥–∞—Ç–∏ `rsrc.syso` –≤ `.gitignore` —è–∫—â–æ —ñ–∫–æ–Ω–∫–∞ —á–∞—Å—Ç–æ –∑–º—ñ–Ω—é—î—Ç—å—Å—è (–∞–±–æ –Ω–∞–≤–ø–∞–∫–∏ - –∑–∞–∫–æ–º—ñ—Ç—å—Ç–µ —â–æ–± —ñ–Ω—à—ñ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∏ –º–∞–ª–∏ –≥–æ—Ç–æ–≤–∏–π —Ñ–∞–π–ª)

## Troubleshooting

**–ü—Ä–æ–±–ª–µ–º–∞:** –Ü–∫–æ–Ω–∫–∞ –Ω–µ –∑'—è–≤–ª—è—î—Ç—å—Å—è –≤ —Ç—Ä–µ—ó
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ `rsrc.syso` –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏–π –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –ü–µ—Ä–µ–∑–±–µ—Ä—ñ—Ç—å –ø—Ä–æ–≥—Ä–∞–º—É –ø—ñ—Å–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó `rsrc.syso`
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ –ø—Ä–æ–≥—Ä–∞–º–∞ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å —ñ–∫–æ–Ω–∫—É (–¥–∏–≤—ñ—Ç—å—Å—è –ª–æ–≥–∏)

**–ü—Ä–æ–±–ª–µ–º–∞:** `rsrc` –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è
- –°–ø—Ä–æ–±—É–π—Ç–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É: `go install github.com/tc-hib/go-winres@latest`
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `go-winres` –∑–∞–º—ñ—Å—Ç—å `rsrc`

**–ü—Ä–æ–±–ª–µ–º–∞:** –Ü–∫–æ–Ω–∫–∞ —î –≤ exe, –∞–ª–µ –Ω–µ –≤ —Ç—Ä–µ—ó
- –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä—É–π—Ç–µ `rsrc.syso` –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º —ñ–º–µ–Ω–µ–º "APPICON"
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–¥ –≤ `mainwindow.go` –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—É –Ω–∞–∑–≤—É —ñ–∫–æ–Ω–∫–∏
